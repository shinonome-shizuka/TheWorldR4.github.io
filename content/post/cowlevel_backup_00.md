---
title: 'IIDX 好弟弟折腾笔记'
date: 2018-12-26T11:54:29+08:00
lastmod: 2022-08-10T17:05:43+08:00
# author: Author Name
# avatar: /img/author.jpg
authorlink: 'https://cowlevel.net/article/2017694'
cover: 'https://media.vgm.io/products/12/10121/10121-1616309197.png'
callout: '发布在奶牛关的文章备份。或许时代早就变了。'
categories:
  - 奶牛关
tags:
  - IIDX
draft: false
---

~~牛关竟然没有街机IIDX的条目~~

<!-- more -->

## 前言

> 修订的时候发现自己废话很多，各位读者可以直接略过这段。

想做一点总结了，去年入坑DJMAX之后理解到了MUG的正确玩法，立刻无法自拔。

会想试试看IIDX，一半是毛台的功劳，毕竟1.5K买的外设，不玩玩看宇宙第一困难的IIDX真的说不过去。工作之后有日呆同事一起带飞，于是他带我去机厅出勤，惊觉DMR是真的既大众又简单，适合萌新入坑。

IIDX是KONAMI手里的传统下落式街机MUG，在中国大陆地区没有官方运营。我们正常在国内机厅接触到的所有Bemani系列产品估计理论上都属于非法，毕竟我国街机文化断代，加上FVCK KONAMI，还有MUG圈本身相对封闭，基本没可能有公司代理之后还能赚钱。

我国自有国情，街机党无人问津，强调社交的游戏环境基本没得想，加上国内机台实在是被拳皇97这种上古老物挤压的无处可寻，所以理科应运而生。

玩理科，就像看里番飙车。咱们玩个柰子都不见的IIDX搞的像玩黄赌毒刺激又精彩，论坛上各种黑话表情包满天飞，加上MUG圈的人大多过于日呆，以我一个外人的角度来说很畸形，摸索的过程中压力山大。

然而这一切的矛头都指向可乐妹，最后也只能一声长叹。

话说在前头，我对理科的了解并不特别深厚，只是个搭车族。为了练好IIDX成为巨佬，又找不到地方出勤（天津、东直门、西单太远），所以只好搞起了好弟弟。

这么一搞，我就搞了特么的两个星期，**网上指引非常非常少**，以至于我到昨晚才发现自己真正的问题所在，这全都是因为KONAMI会寄律师函的锅啊。

讲道理，街机破解相关是真的硬核，我从头到尾都觉得非♂常♂猛♂烈，和家用机破解的柔和完善完全不同，一个天上一个地下，实在是太爽了。

## IIDX本体相关

IIDX黑话解释及相关科普可以参考这里，谱面黑话参考这里。

关于游戏本身能说的东西很多，但是我实在是说不出来，因为我不够触手，没听说过IIDX只要知道这款游戏贼尼玛难就行了。由于我对国内音游圈了解的不多，所以详细的历史相关和人物就不再触及，只评价游戏。

目前最新版本为IIDX 29 Casthour，理网只有IIDX 27的HDD，最新汉化版为IIDX 25 Cannon Ballers，我用的是日文版 IIDX28。

如果说DMR只是在快速敲键盘的话，那么IIDX就是真的DJ在搓碟。

这个系列绝对是目前下落式MUG的集大成者，拥有一流的谱面、一流的反馈、一流的游戏设定、一流的难度。

和DJMAX之类强调玩家突破自己上限的设计不同，IIDX非常反潮流的要求玩家提高自己的下限，于是这款游戏的分数计算方式和神奇的段位认定都相当严苛。

比起DJMAX，IIDX的竞技性更强，针对打歌和各种数据内容也更多，比如精确到百分位的Hi-speed、挡板高度、1P2P盘位、所谓的指法要求等等。

这款游戏一定要上手台，毕竟IIDX就是针对手台设计，根本没有考虑过键盘用户的需求。

讲道理，IIDX说难也不难，说简单也不简单，和DJMAX一样，到了最后都是一个练字，打不过就练，练不过再练，朝死里练，反正玩多了自然会成神仙。

就像我从零开始DJMAX，到现在也白金了。

从DMR引用两句话献给所有喜欢硬核音游的玩家：

> You need more practice !
> We respect you !

## HDD如何安装启动

首先，你需要自己去搞到HDD的资源，理科论坛（bemanicn.com）里有。

理科论坛在6、16、26日会开放注册，要不就只能找有账号的人邀请注册。

然后，按照论坛的游戏运行教程把键位和ea3-config.xml设置好，这套东西暂时没有比较全面的文档，有生之年我有空可以写一个。

现在有一套集成度比较高的 spicytools 可供设置使用，比通行的 bemanitools 要更傻瓜，还自带patch功能。这两个软件都在github上开源使用，国内所有的机台都是用这两个东西运行的非正版机。

接下来，找一个离线服务器，同样理科论坛里有。不用离线服务器的话，可以使用A网或者里网，用于记录成绩。A网已经支持刷卡IIDX27，邀请码可以私聊我要。

最后检查你的电脑设置：

- 使用3DM游戏运行库安装工具v3.0，解决运行库问题（IIDX需要VC2010）
- 禁用多余网卡，包括虚拟网卡，留一张即可
- 禁用蓝牙，Windows里蓝牙算网卡
- 在声音面板将“板载声卡输出”设置为`默认设备`或者`你想输出的声音设备`，并选择“允许应用程序独占”
  - 将声源输出设置为CD音质（16bit + 44.1kHz）
  - 禁用多余声音设备
- 禁用多余显卡，可以选择核显启动
- 禁用摄像头，IIDX启动时会自动检测，或者前往[这里](https://mon.im/bemanipatcher/)打上禁用摄像头的补丁
  - 区别在于补丁会直接默认摄像头有效，跳过检测
- 修改`iidxhook.conf`，使窗口化运行时可以调整游戏显示的位置
  - 如果使用`spicytools`可以在设置里面勾选
  - 将`launcher.exe`设置为以管理员身份运行，并允许通过防火墙
  - 如果使用`spicetools`则设置`spice64.exe`通过防火墙
- 如果不想联网，运行游戏之前记得启动离线服务器
- 联网请参考A网、理网的设置方法
  - `ea3_config.xml`中填写`pcb-id`及`<Network>`信息
- 然后就可以运行了

## HDD黑话解释

> 音游Wiki炸了，忘记了理网论坛的地址

**好弟弟**：HDD的“中文版”，Hard Disk Data，指代的是经过破解之后可以直接在一般PC上运行的街机程序，其实就是常说的硬盘版，据说最佳体验是在XP PE系统专机。

**理科**：有可能指代Bemanicn论坛管理员Richard_di，同时根据字面意义延伸指代整个非法Bemani相关资源的下载、运行、联网等等。

**理网**：Bemanicn提供的国内街机e-amusement联网服务。

**理台**：指连接到国内e-amusement网络的机台，可以使用老版的e-pass卡，目前和BJMANIA完成了合并，两者互通paseli账号。

**A网**：指邀请制网站`arcana.nu`，提供国内外非正版街机的联网服务，支持所有bemani系列游戏。

**ea3-config.xml**：前缀意义不明，是IIDX HDD运行环境的主要设置文件，beatmania tools的核心文件，游戏无法运行基本上都是这里出了问题。

**pcbid**：机台基板ID，类似网卡的MAC地址，IIDX联网时需要作为身份标示，唯一。

**离线服务器**：由于IIDX默认会访问服务器检测，不联网游戏则无法运行，所以需要一个伪造的本地服务器来骗过检测。其实就是代理服务器，有兴趣可以了解一下Apache，伪造e-amusement服务器正在维护中的离线效果。

**ICC**：e-pass卡模拟器，全写目前不明。

**PIN**：e-pass卡的四位密码，正常情况可以在可乐妹官网设置。

**ea-emu**：一个离线服务器，只支持到IIDX 18。

## 后来摸索出的新内容

### 升级包的使用方法

下载版本更新的压缩包前，检查自己当前的版本号，检查方法看下面。只有配合的版本号才能使用升级压缩包，一般情况下会覆盖一部分dll文件。

更新包主要更新的内容为：

- bm2dx.dll
- 文件夹
  - prof
  - data

其他文件均可无视。覆盖更新包之后可能会改变`ea3-config.xml`的设置，需要重新填写，否则无法使用网络的刷卡功能。

如果使用spicetools则不用调整。

### XML文档的部分意义

这里只写有必要管的部分。

XML文档入门：欢迎查看[菜鸟教程](https://www.runoob.com/xml/xml-tutorial.html)

```xml
<!-- ea3-config.xml -->

    ea3/timezone
    <!-- 时区，秒为单位，offset -->

    ea3/id/pcbid
    <!-- 基版ID，可以在spicetools中直接设置 -->
                  
    ea3/soft/model
    <!-- 框体类型，可以在spicetools中直接设置 -->

    ea3/soft/ext              
    <!-- 版本号，一般是更新或者实装的时间，半年更新一次 -->

    ea3/network/timeout
    <!-- 联网超时的时间 -->

    ea3/network/service
    <!-- 联网的地址，一般是A网或者理网，可以在spicetools中直接设置 -->

    ea3/option/service
    <!-- 是否联网，默认值1 -->

    ea3/opiton/posevent
    <!-- 是否开启活动，默认值0 -->

    ea3/option/pcbevent
    <!-- 是否开启单机活动，默认值1 -->

    ea3/option/bookkeeping
    <!-- 否开启预定功能，国内没用，默认值0 -->

    ea3/option/autofactory
    <!-- 是否开启自动恢复出厂设置，默认值1 -->

<!-- coin.xml -->

    coin/free
    <!-- 免费游玩开启时需要的硬币 -->
    
    coin/event
    <!-- 是否开启活动，默认值0，需要与上面的统一 -->
    
    coin/pp_event
    <!-- 是否开启高级游玩时的活动，默认值0，需要与上面的统一 -->
```

当游戏无法启动时，查看加载日志，spicetools会自动输出一个logs.txt，根据其中的报错信息反查XML相关部分，就可以大概知道问题出在何处。

例如：

```plain text
ea3-pos: ea3_posev_init: reading opt file failed
```
此处检查`ea3-config.xml`中`ea3/option/posevnt`及其他`event`设置，全部设置为`1`之后即可正常启动。

另外我用spicetools还遇到了d3d9的相关错误，导致音画掉帧错位。只需要根据报错的信息直接谷歌就能查到解决办法。

如果是spicetools可以直接把对应的文件放入`content/api/cpp/spiceapi`文件夹，剩下随缘。

### 奇怪的问题

dev相关错误，可以将nvram中的文件全部删除，替换为[链接](https://1drv.ms/u/s!AmteDcWaA0g7dbL028G87xfOkcI?e=x4OImq)中的文件。
